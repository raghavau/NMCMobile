<!DOCTYPE html>
<html>

<head>
    <title>Index Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="semantic/css/semantic.css">
    <link rel="stylesheet" type="text/css" href="fontawesome4.7.0/css/font-awesome.css">
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="semantic/js/semantic.js"></script>
    <style type="text/css">
        body {
            /*overflow: hidden;*/
        }

        body>.grid {
            height: 100%;
        }

        .column {
            max-width: 450px;
        }

    </style>
</head>

<body>
    <div class="ui top fixed fluid huge customcolor inverted labeled menu">
        <!--<a class="item">
            <i class="sidebar icon"></i>
        </a>-->
        <div class="right icon menu">
            <a class="item" id="home">
            <i class="home icon"></i>
        </a>
            <a class="item" id="notifications">
            <i class="alarm icon"></i>
        </a>
            <a class="item" id="signout">
            <i class="sign out icon"></i>
        </a>
        </div>
    </div>
    <div class="ui bottom fixed fluid three item labeled icon menu">
        <a class="item" id="profile">
            <i class="id card red icon"></i>
            Profile
        </a>
        <a class="item" id="attendance">
            <i class="hand pointer camera blue icon"></i>
            Attendance
        </a>
        <a class="item" id="leave">
            <i class="calendar green icon"></i>
            Leave
        </a>
        <!--<a class="item" id="availability">
            <i class="doctor purple icon"></i>
            Availability
        </a>-->
    </div>
    <input type="hidden" id="hempid" />
    <iframe frameborder="0" width="100%" id="ifrm" style="position: absolute" scrolling="auto"></iframe>
</body>

</html>
<script type="text/javascript">
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {
        document.addEventListener("backbutton", function(e) {
            e.preventDefault();
        }, false);
    }
    var qsParm = new Array();

    function qs() {
        //debugger;
        var query = window.location.search.substring(1);
        var parms = query.split('&');
        for (var i = 0; i < parms.length; i++) {
            var pos = parms[i].indexOf('=');
            if (pos > 0) {
                var key = parms[i].substring(0, pos);
                var val = parms[i].substring(pos + 1);
                qsParm[key] = val;
            }
        }
        if (parms.length > 0) {
            $("#hempid").val(atob(qsParm["empid"]));
            return true;
        } else {
            window.location.href = 'index.html';
            return false;
        }
    }
    $(document).ready(function() {
        qs();
        var ifrmheight = $('body').height() - $('.bottom').height();
        $('#ifrm').css('top', $('.top').height());
        $('#ifrm').height(ifrmheight - 45);

        $('#ifrm').attr('src', 'home.html?empid=' + btoa($("#hempid").val()));

        $('#home').click(function() {
            $('#ifrm').attr('src', 'home.html?empid=' + btoa($("#hempid").val()));
        });
        $('#notifications').click(function() {

        });
        $('#signout').click(function() {
            window.location.href = 'index.html';
        });

        $('#profile').click(function() {
            $('#ifrm').attr('src', 'profile.html?empid=' + btoa($("#hempid").val()));
        });
        $('#attendance').click(function() {
            $('#ifrm').attr('src', 'attendance.html?empid=' + btoa($("#hempid").val()));
        });
        $('#leave').click(function() {
            $('#ifrm').attr('src', 'leave.html?empid=' + btoa($("#hempid").val()));
        });
        $('#availability').click(function() {
            $('#ifrm').attr('src', 'availability.html?empid=' + btoa($("#hempid").val()));
        });
    });

</script>
